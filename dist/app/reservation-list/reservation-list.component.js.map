{"version":3,"sources":["../src/app/reservation-list/reservation-list.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uBAA0B,eAAe,CAAC,CAAA;AAC1C,yBAA+C,iBAAiB,CAAC,CAAA;AAEjE,8BAA2B,yBAAyB,CAAC,CAAA;AACrD,+BAA4B,0BAA0B,CAAC,CAAA;AAEvD,MAAY,EAAE,WAAM,kBAAkB,CAAC,CAAA;AAevC;IAKI,YAAoB,UAAsB,EACtB,WAAwB,EACvB,KAAqB,EACrB,MAAc;QAHf,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAa;QACvB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QANnC,iBAAY,GAAe,EAAE,CAAC;QAO5B,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,WAAW;YAChD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;aAChC,SAAS,CAAE,WAAW;YACrB,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC;gBAAC,MAAM,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC;iBACnD,SAAS,CAAE,YAAY;gBACtB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACnC,CAAC,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;IACJ,CAAC;AACL,CAAC;AAvCD;IAAC,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAC;;;;;;KAMR;QACD,SAAS,EAAE,CAAC,6BAA6B,CAAC;QAC1C,SAAS,EAAE,CAAE,wBAAU,EAAE,0BAAW,CAAE;KACzC,CAAC;;mBAAA;AACW,uBAAe,kBA0B3B,CAAA","file":"app/reservation-list/reservation-list.component.js","sourceRoot":"/source/","sourcesContent":["import { Component } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\n\nimport { ApiService } from '../services/api.service';\nimport { AuthService } from '../services/auth.service';\n\nimport * as io from 'socket.io-client';\n\n@Component({\n    moduleId: module.id,\n    selector: 'reservation-list',\n    template:`\n    <div class=\"reservation-list-wrapper\">\n      <div *ngFor='let reservation of reservations' class='reservation-item'>\n        <reservation-item [reservation]='reservation'></reservation-item>\n      </div>\n    </div>\n    `,\n    styleUrls: ['reservation-list.styles.css'],\n    providers: [ ApiService, AuthService ]\n})\nexport class ReservationList {\n  \n    reservations: Array<any> = [];\n    socket: any;\n    \n    constructor (public apiService: ApiService,\n                 public authService: AuthService,\n                 private route: ActivatedRoute,\n                 private router: Router){ \n      this.socket = io();\n      this.socket.on('reservation:created', (reservation) => {\n        this.reservations.push(reservation);\n        console.log(reservation);\n      });\n    }\n    \n    ngOnInit() {\n      this.authService.getCurrentUser()\n      .subscribe( currentUser => {\n        if (!currentUser) return;\n        this.apiService.getReservations(currentUser.user_id)\n        .subscribe( reservations => {\n          this.reservations = reservations;\n        })\n      })\n    }\n}"]}